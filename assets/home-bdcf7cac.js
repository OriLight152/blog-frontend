import{_ as h}from"./PostPreview.vue_vue_type_script_setup_true_lang-43eb2f3f.js";import{N as c}from"./nprogress-a817ebd9.js";import{g as v}from"./post-f9c9a4a4.js";import{_ as k}from"./Pagination.vue_vue_type_script_setup_true_lang-8500eb0f.js";import{d as x,u as y,a as b,b as C,r as a,o as L,c as p,e as i,w,F as m,f as N,g as R,h as q,i as r,j as z,k as B,p as P}from"./index-1dfb2302.js";import"./index-74aade08.js";import"./IconView-03c59b79.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./IconLikeS-14d50311.js";import"./_commonjsHelpers-28e086c5.js";const I=x({__name:"home",setup(F){const s=y(),n=b(),f=C(),o=a([]),t=a(1),u=a(0);L(()=>{n.query.page&&(t.value=Number(n.query.page)),l()});function l(){c.start(),s.pageLoading=!0,o.value=[],v(t.value).then(e=>{o.value=e.posts,u.value=e.count}).finally(()=>{c.done(),s.pageLoading=!1})}function g(e){t.value=e,f.push({query:{page:e}}),l()}return(e,S)=>{const d=q("RouterLink");return r(),p(m,null,[i(d,{class:"w-full text-center text-2xl font-bold block py-4 my-2 bg-white hover:bg-gray-200 transition-colors rounded-md shadow-sm",to:"/post/35"},{default:w(()=>[z(" 点击前往作业报告 ")]),_:1}),(r(!0),p(m,null,N(o.value,_=>(r(),B(h,{"post-data":_},null,8,["post-data"]))),256)),i(k,{"current-page":t.value,"total-count":u.value,"page-size":R(P),onChange:g},null,8,["current-page","total-count","page-size"])],64)}}});export{I as default};
