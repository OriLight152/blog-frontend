import{d as h,u as x,a as y,b as k,r as a,o as w,c as i,e as s,w as p,T as b,f as C,F as m,g as L,h as n,i as N,j as B,v as R,k as q,l as z,m as P,p as S}from"./index-f13a1ebc.js";import{_ as T}from"./PostPreview.vue_vue_type_script_setup_true_lang-a8cbebbc.js";import{N as _}from"./nprogress-a817ebd9.js";import{g as V}from"./post-a2de01dc.js";import{_ as D}from"./Pagination.vue_vue_type_script_setup_true_lang-f1090f02.js";import{_ as F}from"./_plugin-vue_export-helper-c27b6911.js";import"./index-74aade08.js";import"./IconComment-dc4e2e25.js";import"./IconLikeS-26162823.js";import"./IconView-a0ac3a23.js";import"./_commonjsHelpers-28e086c5.js";const $=h({__name:"home",setup(j){const r=x(),u=y(),f=k(),t=a([]),o=a(1),c=a(0);w(()=>{u.query.page&&(o.value=Number(u.query.page)),l()});function l(){_.start(),r.pageLoading=!0,t.value=[],V(o.value).then(e=>{t.value=e.posts,c.value=e.count}).finally(()=>{_.done(),r.pageLoading=!1})}function d(e){o.value=e,f.push({query:{page:e}}),l()}return(e,E)=>{const g=L("RouterLink");return n(),i(m,null,[s(g,{class:"w-full text-center text-2xl font-bold block py-4 my-2 bg-white hover:bg-gray-200 transition-colors rounded-md shadow-sm",to:"/post/35"},{default:p(()=>[N(" 点击前往作业报告 ")]),_:1}),s(b,null,{default:p(()=>[B(q("div",null,[(n(!0),i(m,null,z(t.value,v=>(n(),P(T,{"post-data":v},null,8,["post-data"]))),256))],512),[[R,t.value.length!==0]])]),_:1}),s(D,{"current-page":o.value,"total-count":c.value,"page-size":C(S),onChange:d},null,8,["current-page","total-count","page-size"])],64)}}});const X=F($,[["__scopeId","data-v-9ce2f9c1"]]);export{X as default};
