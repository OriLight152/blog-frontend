import{_ as h}from"./PostPreview.vue_vue_type_script_setup_true_lang-6c08c6f7.js";import{N as c}from"./nprogress-131c7954.js";import{g as v}from"./post-db4a918b.js";import{_ as k}from"./Pagination.vue_vue_type_script_setup_true_lang-89f3edb8.js";import{d as x,u as y,a as b,b as C,r as a,o as L,c as p,e as i,w,F as m,f as N,g as R,h as q,i as s,j as z,k as B,p as P}from"./index-078e7164.js";import"./index-b25eac40.js";import"./IconView-aa5007e4.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./IconLikeS-78e78447.js";const H=x({__name:"home",setup(F){const r=y(),n=b(),f=C(),o=a([]),t=a(1),u=a(0);L(()=>{n.query.page&&(t.value=Number(n.query.page)),l()});function l(){c.start(),r.pageLoading=!0,o.value=[],v(t.value).then(e=>{o.value=e.posts,u.value=e.count}).finally(()=>{c.done(),r.pageLoading=!1})}function g(e){t.value=e,f.push({query:{page:e}}),l()}return(e,S)=>{const d=q("RouterLink");return s(),p(m,null,[i(d,{class:"w-full text-center text-2xl font-bold block py-4 my-2 bg-white hover:bg-gray-200 transition-colors rounded-md shadow-sm",to:"/post/35"},{default:w(()=>[z(" 点击前往作业报告 ")]),_:1}),(s(!0),p(m,null,N(o.value,_=>(s(),B(h,{"post-data":_},null,8,["post-data"]))),256)),i(k,{"current-page":t.value,"total-count":u.value,"page-size":R(P),onChange:g},null,8,["current-page","total-count","page-size"])],64)}}});export{H as default};
