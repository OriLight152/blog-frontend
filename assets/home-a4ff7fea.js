import{d as v,u as h,a as k,b as w,r as o,o as x,c as p,e as s,w as c,T as y,f as b,g as C,h as r,i as L,j as N,v as B,k as R,F as q,l as z,m as P,p as S}from"./index-a72055d1.js";import{_ as T}from"./PostPreview.vue_vue_type_script_setup_true_lang-7cd93ace.js";import{N as m}from"./nprogress-a817ebd9.js";import{g as V}from"./post-38693b24.js";import{_ as D}from"./Pagination.vue_vue_type_script_setup_true_lang-db5266c8.js";import"./index-74aade08.js";import"./IconComment-559f2b20.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./IconLikeS-939b1fe6.js";import"./IconView-1c69ee25.js";import"./_commonjsHelpers-28e086c5.js";const U=v({__name:"home",setup(F){const n=h(),u=k(),d=w(),t=o([]),a=o(1),l=o(0);x(()=>{u.query.page&&(a.value=Number(u.query.page)),i()});function i(){m.start(),n.pageLoading=!0,t.value=[],V(a.value).then(e=>{t.value=e.posts,l.value=e.count}).finally(()=>{m.done(),n.pageLoading=!1})}function f(e){a.value=e,d.push({query:{page:e}}),i()}return(e,$)=>{const g=C("RouterLink");return r(),p("div",null,[s(g,{class:"w-full text-center text-2xl font-bold block py-4 my-2 bg-white hover:bg-gray-200 transition-colors rounded-md shadow-sm",to:"/post/35"},{default:c(()=>[L(" 点击前往作业报告 ")]),_:1}),s(y,{name:"popup-t"},{default:c(()=>[N(R("div",null,[(r(!0),p(q,null,z(t.value,_=>(r(),P(T,{"post-data":_},null,8,["post-data"]))),256))],512),[[B,t.value.length!==0]])]),_:1}),s(D,{"current-page":a.value,"total-count":l.value,"page-size":b(S),onChange:f},null,8,["current-page","total-count","page-size"])])}}});export{U as default};
